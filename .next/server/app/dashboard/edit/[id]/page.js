(()=>{var e={};e.id=188,e.ids=[188],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},13503:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(37413),o=r(41506),i=r(93190),a=r(39916);async function n(e){let t=(0,o.UU)(),r=Number(e.params.id);if(console.log("Received id:",e.params.id,"Parsed id:",typeof r),isNaN(r))return console.log("Invalid product id"),(0,a.notFound)();let{data:n,error:l}=await t.from("product").select("*").eq("id",r).single();return(console.log("Product:",n),console.log("Error:",l),!n||l)?(console.log("Product not found or error occurred"),(0,a.notFound)()):(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Modifier le produit"}),(0,s.jsx)(i.default,{product:n})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31737:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>u,routeModule:()=>c,tree:()=>d});var s=r(65239),o=r(48088),i=r(88170),a=r.n(i),n=r(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d={children:["",{children:["dashboard",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,13503)),"C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\dashboard\\edit\\[id]\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,99766)),"C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,82366)),"C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\dashboard\\edit\\[id]\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/dashboard/edit/[id]/page",pathname:"/dashboard/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},40704:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var s=r(60687),o=r(43210),i=r(16189),a=r(16396),n=r(30474),l=r(29336),d=r(24934);let u=[{label:"V\xeatements",value:"vetement"},{label:"Soins et astuces",value:"soins-et-astuces"},{label:"Maquillage",value:"maquillage"},{label:"Artisanat (fait main)",value:"artisanat"}];function p({product:e}){let[t,r]=(0,o.useState)(e.title),[p,c]=(0,o.useState)(e.price.toString()),[x,h]=(0,o.useState)(e.description),[m,f]=(0,o.useState)(e.image_url),[b,g]=(0,o.useState)(e.whatsapp_number||""),[v,D]=(0,o.useState)(e.category||u[0].value),[j,w]=(0,o.useState)(!1),[y,q]=(0,o.useState)(""),A=(0,i.useRouter)(),C=(0,a.UU)(),N=async r=>{if(r.preventDefault(),q(""),!t.trim())return q("Le titre est requis.");if(!p||isNaN(Number(p))||0>=Number(p))return q("Prix invalide.");if(!x.trim())return q("La description est requise.");if(!b.match(/^\+?\d{7,15}$/))return q("Num\xe9ro WhatsApp invalide.");if(!v)return q("Veuillez choisir une cat\xe9gorie.");w(!0);let{error:s}=await C.from("product").update({title:t.trim(),price:parseFloat(p),description:x.trim(),image_url:m,whatsapp_number:b,category:v}).eq("id",e.id);w(!1),s?q(s.message):A.push("/dashboard/products")};return(0,s.jsxs)("div",{children:[(0,s.jsx)(d.$,{variant:"outline",size:"lg",onClick:()=>A.back(),className:"mb-10 hover:bg-[#D29587] font-bold border-[#D29587]",children:"Retour"}),(0,s.jsxs)("form",{onSubmit:N,className:"max-w-xl mx-auto space-y-6 bg-white shadow-lg rounded-2xl p-8 border border-[#E6E3DF] animate-fade-in",children:[y&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:y}),(0,s.jsxs)("div",{className:"w-full flex flex-col items-center gap-4",children:[(0,s.jsx)(l.A,{onUpload:f}),m&&(0,s.jsx)(n.default,{src:m,alt:"Aper\xe7u",width:300,height:300,className:"rounded-xl object-cover border border-[#E6E3DF]"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Titre du produit",value:t,onChange:e=>r(e.target.value),className:"w-full px-4 py-3 border border-[#DAD5CD] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D29587] transition",required:!0}),(0,s.jsx)("input",{type:"number",placeholder:"Prix (en FCFA)",value:p,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 border border-[#DAD5CD] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D29587] transition",required:!0,min:0,step:"0.01"}),(0,s.jsx)("textarea",{placeholder:"Description d\xe9taill\xe9e...",value:x,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 border border-[#DAD5CD] rounded-xl h-32 resize-none focus:outline-none focus:ring-2 focus:ring-[#D29587] transition",required:!0}),(0,s.jsx)("input",{type:"tel",placeholder:"Num\xe9ro WhatsApp (+221...)",value:b,onChange:e=>g(e.target.value),className:"w-full px-4 py-3 border border-[#DAD5CD] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D29587] transition",pattern:"^\\+?\\d{7,15}$",title:"Entrez un num\xe9ro WhatsApp valide, avec indicatif pays",required:!0}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{htmlFor:"category",className:`absolute left-4 top-3 text-sm text-[#A6A6A6] transition-all duration-200 ${v?"text-xs -top-2 bg-white px-1 text-[#D29587]":""}`,children:"Cat\xe9gorie"}),(0,s.jsx)("select",{id:"category",value:v,onChange:e=>D(e.target.value),className:"w-full appearance-none px-4 pt-6 pb-3 border border-[#DAD5CD] rounded-xl bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#D29587] transition",required:!0,children:u.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,s.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-4 flex items-center text-gray-400",children:(0,s.jsx)("svg",{className:"h-5 w-5 transform transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),(0,s.jsx)("button",{type:"submit",disabled:j,className:"w-full bg-[#D29587] text-white font-semibold py-3 rounded-xl hover:bg-[#bb7d72] transition",children:j?"Modification en cours...":"Modifier le produit"}),(0,s.jsx)("p",{className:"text-center text-xs text-[#A6A6A6] italic mt-4",children:"Mise \xe0 jour r\xe9ussie, inchallah \uD83D\uDE4C"})]})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69102:(e,t,r)=>{Promise.resolve().then(r.bind(r,40704))},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},93190:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\UTILISATEUR\\\\Desktop\\\\horloge\\\\app\\\\dashboard\\\\add\\\\edit-product-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\dashboard\\add\\edit-product-form.tsx","default")},94735:e=>{"use strict";e.exports=require("events")},99366:(e,t,r)=>{Promise.resolve().then(r.bind(r,93190))}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,458,32,533,934,222,553],()=>r(31737));module.exports=s})();