(()=>{var e={};e.id=837,e.ids=[837],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10242:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,dynamic:()=>d,metadata:()=>u});var s=r(37413),a=r(44999),o=r(39916),n=r(45934),i=r(41506),l=r(62449);let d="force-dynamic",u={title:"Ajouter un produit - Dashboard",description:"Ajoutez un nouveau produit \xe0 votre boutique"};async function p(){let e=await (0,a.UL)(),t=(0,n.createServerClient)(i.Mh,i.Qi,{cookies:{get:t=>e.get(t)?.value}}),{data:{user:r},error:d}=await t.auth.getUser();return(d||!r)&&(0,o.redirect)("/signin"),(0,s.jsx)("div",{className:"min-h-screen bg-[#F9F6F1] py-10 px-4 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl bg-white shadow-lg border border-[#E6E3DF] rounded-2xl p-8",children:[(0,s.jsxs)("div",{className:"mb-6 text-center",children:[(0,s.jsxs)("h1",{className:"text-3xl font-extrabold text-[#1E1E1E] mb-2",children:["Bonjour ",r.email?.split("@")[0]||"!"," \uD83D\uDC4B"]}),(0,s.jsx)("p",{className:"text-[#6B6B6B] text-sm",children:"Pr\xeat\xb7e \xe0 ajouter un nouveau produit \xe0 votre boutique ?"})]}),(0,s.jsx)(l.default,{userId:r.id})]})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},52895:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>u,routeModule:()=>c,tree:()=>d});var s=r(65239),a=r(48088),o=r(88170),n=r.n(o),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["dashboard",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,10242)),"C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\dashboard\\add\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,99766)),"C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,82366)),"C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\dashboard\\add\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/add/page",pathname:"/dashboard/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58031:(e,t,r)=>{Promise.resolve().then(r.bind(r,77655))},62449:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\UTILISATEUR\\\\Desktop\\\\horloge\\\\app\\\\dashboard\\\\add\\\\add-product-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\UTILISATEUR\\Desktop\\horloge\\app\\dashboard\\add\\add-product-form.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69655:(e,t,r)=>{Promise.resolve().then(r.bind(r,62449))},74075:e=>{"use strict";e.exports=require("zlib")},77655:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var s=r(60687),a=r(43210),o=r(16189),n=r(16396),i=r(30474),l=r(29336),d=r(24934);let u=[{value:"vetement",label:"V\xeatement"},{value:"soins_et_astuces",label:"Soins et astuces"},{value:"maquillage",label:"Maquillage"},{value:"artisanat",label:"Artisanat (fait mains)"}];function p({userId:e}){let[t,r]=(0,a.useState)(""),[p,c]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[m,b]=(0,a.useState)(""),[f,v]=(0,a.useState)(""),[g,j]=(0,a.useState)(u[0].value),[D,w]=(0,a.useState)(!1),[y,A]=(0,a.useState)(""),[C,q]=(0,a.useState)(!1),U=(0,o.useRouter)(),N=(0,n.UU)(),E=async r=>{if(r.preventDefault(),w(!0),A(""),q(!1),!f.match(/^\+?\d{8,15}$/)){w(!1),A("Veuillez entrer un num\xe9ro WhatsApp valide (ex: +221771234567)");return}let{error:s}=await N.from("product").insert({title:t,price:parseFloat(p),description:x,image_url:m,user_id:e,whatsapp_number:f,category:g});w(!1),s?A(s.message):(q(!0),setTimeout(()=>{U.push("/dashboard/products")},1e3))};return(0,s.jsxs)("div",{className:"animate-fade-in max-w-xl mx-auto",children:[(0,s.jsx)(d.$,{variant:"outline",size:"lg",onClick:()=>U.back(),className:"mb-8 border-[#D29587] text-[#D29587] font-semibold hover:bg-[#F7ECEA] transition",children:"← Retour"}),(0,s.jsxs)("form",{onSubmit:E,className:"bg-white border border-[#EDE9E3] shadow-xl rounded-3xl p-10 space-y-6",children:[y&&(0,s.jsx)("p",{className:"text-red-500 text-center font-medium",children:y}),C&&(0,s.jsx)("p",{className:"text-green-600 text-center font-medium",children:"✅ Produit ajout\xe9 avec succ\xe8s !"}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(l.A,{onUpload:b}),m&&(0,s.jsx)(i.default,{src:m,alt:"Aper\xe7u du produit",width:300,height:300,className:"rounded-xl object-cover border border-[#DAD5CD]"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Titre du produit",value:t,onChange:e=>r(e.target.value),className:"w-full px-4 py-3 border border-[#DAD5CD] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D29587] transition",required:!0}),(0,s.jsx)("input",{type:"number",placeholder:"Prix (en FCFA) - Ex: 1500",value:p,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 border border-[#DAD5CD] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D29587] transition",required:!0,min:"0",step:"any"}),(0,s.jsx)("textarea",{placeholder:"Description d\xe9taill\xe9e...",value:x,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 border border-[#DAD5CD] rounded-xl h-32 resize-none focus:outline-none focus:ring-2 focus:ring-[#D29587] transition",required:!0}),(0,s.jsx)("input",{type:"text",placeholder:"Num\xe9ro WhatsApp (ex: +221771234567)",value:f,onChange:e=>v(e.target.value),className:"w-full px-4 py-3 border border-[#DAD5CD] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D29587] transition",required:!0}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{htmlFor:"category",className:`absolute left-4 top-3 text-sm text-[#A6A6A6] transition-all duration-200 ${g?"text-xs -top-2 bg-white px-1 text-[#D29587]":""}`,children:"Cat\xe9gorie"}),(0,s.jsx)("select",{id:"category",value:g,onChange:e=>j(e.target.value),className:"w-full appearance-none px-4 pt-6 pb-3 border border-[#DAD5CD] rounded-xl bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#D29587] transition",required:!0,children:u.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,s.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-4 flex items-center text-gray-400",children:(0,s.jsx)("svg",{className:"h-5 w-5 transform transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),(0,s.jsx)("button",{type:"submit",disabled:D,className:"w-full bg-[#D29587] text-white font-semibold py-3 rounded-xl hover:bg-[#bb7d72] disabled:opacity-50 transition",children:D?"Ajout en cours...":"Ajouter le produit"}),(0,s.jsx)("p",{className:"text-center text-xs text-[#A6A6A6] italic mt-2",children:C?"Redirection dans un instant…":"Un pas de plus vers une vitrine styl\xe9e ✨"})]})]})}},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,458,32,533,934,999,222,553],()=>r(52895));module.exports=s})();